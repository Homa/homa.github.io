<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            body {
                background-color: #000;
            }
            #message-wrapper {
                top : 100px;
                position: relative;
            }
            #message-wrapper div {
                position:absolute;
                top:-200px;
                background-color: #fff;
                left:50%;
                padding:25px;
                transform-style: preserve-3d;
            }
            #page-wrapper {
                position:absolute;
                height:200px;
                top:300px;
                left:30%;
                width:350px
            }
        </style>
    </head>
    <body>
        <div id="page-wrapper">
            <div id="message-wrapper">
            </div>
            <!-- monster svg-->
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 360 360" xml:space="preserve" style="height:160px;left:50%;margin-left:-100px;position:absolute;top:0px;width:150px">
            <style type="text/css">
                .st0{fill:#F7941E;}
                .st1{fill:#A11D20;}
                .st2{fill:#CB2027;top:0px;}
                .st3{fill:#FFFFFF;}
                .st4{clip-path:url(#XMLID_47_);}
                .st5{clip-path:url(#XMLID_48_);}
                .st6{clip-path:url(#XMLID_49_);}
                .st7{clip-path:url(#XMLID_49_);fill:#811517;}
                .w {fill:#FFFFFF;}

            </style>
            <g id="monster">
                <g id="legs">
                <path id="left_leg" style="transform-origin: 50% 50% 0px;" class="st0" d="M141.8 233.9v73.2c-12.8-4-30.1-7.8-38.5-2.9 -14.1 8.4-12.6 20.9-12.6 20.9h66.6v-91.3H141.8z"/>
                <path id="right_leg" style="transform-origin: 50% 50% 0px;" class="st0" d="M218.2 233.9v73.2c12.8-4 30.1-7.8 38.5-2.9 14.1 8.4 12.6 20.9 12.6 20.9h-66.6v-91.3H218.2z"/>
                </g>
                <g id="monster_body" style="transform-origin: 50% 50% 0px;">
                    <g id="horns">
                        <path id="left_horn"  style="transform-origin: 50% 50% 0px;" class="st1" d="M99.3 109c0 0-0.3-0.1-0.7-0.2 -0.2-0.1-0.5-0.1-0.9-0.2l-0.1 0c0 0-0.1 0-0.2 0 -0.2 0-0.4-0.1-0.6-0.1 -0.4-0.1-0.9-0.2-1.3-0.3 -0.5-0.1-0.9-0.2-1.5-0.3 -0.3-0.1-0.5-0.1-0.7-0.2 -0.2-0.1-0.4-0.1-0.6-0.2 -0.9-0.3-1.8-0.6-2.7-1 -1.9-0.7-3.9-1.7-5.9-2.9 -2-1.1-4-2.5-5.9-4 -1.9-1.5-3.8-3.2-5.5-5 -1.7-1.8-3.4-3.8-4.9-5.8 -1.5-2-2.9-4.1-4.1-6.3 -1.3-2.1-2.4-4.3-3.4-6.5 -1-2.2-1.9-4.4-2.6-6.5 -0.7-2.1-1.3-4.2-1.7-6.3 -0.5-2-0.8-3.9-1-5.7 -0.2-1.8-0.3-3.4-0.3-4.9 0-1.5 0-2.7 0.1-3.8 0.1-1 0.2-1.9 0.3-2.4 0.1-0.6 0.1-0.9 0.1-0.9 0.4-2.3 2.5-3.9 4.8-3.6 1.7 0.3 3 1.5 3.4 3l0.1 0.5c0 0 0.1 0.2 0.2 0.6 0.1 0.4 0.3 1 0.5 1.7 0.2 0.7 0.6 1.6 1.1 2.6 0.5 1 1 2.1 1.7 3.3 0.7 1.2 1.5 2.4 2.4 3.7 0.9 1.3 2 2.5 3.1 3.8 1.1 1.3 2.4 2.5 3.7 3.6 1.3 1.2 2.7 2.3 4.1 3.3 1.4 1 2.9 1.9 4.3 2.7 1.4 0.8 2.9 1.5 4.2 2 1.3 0.5 2.6 0.9 3.8 1.1 1.2 0.2 2.2 0.4 3.1 0.3 0.9 0 1.6-0.1 2.1-0.2 0.3 0 0.5-0.2 0.7-0.2l0.1-0.1c0.1 0 0.1 0 0.1-0.1 0-0.1 0-0.1 0-0.2 0 0 0-0.1-0.1-0.1l0 0c0 0 0 0 0.1 0l0.1 0c0.4-0.1 0.7-0.1 0.9-0.1 0.5-0.1 0.7-0.1 0.7-0.1l0 0c10-1.7 19.5 5.1 21.2 15.1s-5.1 19.5-15.1 21.2C104.3 109.7 101.7 109.5 99.3 109z"/>
                        <path id="right_horn"  style="transform-origin: 50% 50% 0px;" class="st1" d="M259.2 73c0 0 0.3 0 0.7 0.1 0.2 0 0.5 0.1 0.9 0.1l0.1 0c0.1 0 0.1 0 0.1 0l0 0c0 0 0 0.1-0.1 0.1s0 0.1 0 0.2c0 0 0 0.1 0.1 0.1l0.1 0.1c0.2 0.1 0.4 0.2 0.7 0.2 0.6 0.1 1.3 0.2 2.1 0.2 0.9 0 1.9-0.1 3.1-0.3 1.2-0.3 2.4-0.6 3.8-1.1 1.4-0.5 2.8-1.2 4.2-2 1.4-0.8 2.9-1.7 4.3-2.7 1.4-1 2.8-2.1 4.1-3.3 1.3-1.2 2.6-2.4 3.7-3.6 1.2-1.2 2.2-2.5 3.1-3.8 0.9-1.3 1.8-2.5 2.4-3.7 0.7-1.2 1.3-2.3 1.7-3.3 0.4-1 0.8-1.9 1.1-2.6 0.3-0.7 0.4-1.3 0.5-1.7 0.1-0.4 0.2-0.6 0.2-0.6l0.1-0.5c0.6-2.3 3-3.6 5.2-2.9 1.7 0.5 2.8 1.9 3 3.4 0 0 0 0.3 0.1 0.9 0.1 0.6 0.2 1.4 0.3 2.4 0.1 1.1 0.1 2.3 0.1 3.8 0 1.5-0.1 3.1-0.3 4.9 -0.2 1.8-0.5 3.7-1 5.7 -0.4 2-1 4.1-1.7 6.3 -0.7 2.2-1.6 4.3-2.6 6.5 -1 2.2-2.1 4.4-3.4 6.5 -1.3 2.1-2.6 4.3-4.1 6.3 -1.5 2-3.1 4-4.9 5.8 -1.7 1.8-3.6 3.5-5.5 5 -1.9 1.5-3.9 2.9-5.9 4 -2 1.2-4 2.1-5.9 2.9 -0.9 0.4-1.9 0.7-2.7 1 -0.2 0.1-0.4 0.1-0.6 0.2 -0.2 0.1-0.4 0.1-0.7 0.2 -0.5 0.1-1 0.2-1.5 0.3 -0.5 0.1-0.9 0.2-1.3 0.3 -0.2 0-0.4 0.1-0.6 0.1 -0.1 0-0.2 0-0.2 0l-0.1 0c-0.3 0.1-0.6 0.2-0.9 0.2 -0.5 0.1-0.7 0.2-0.7 0.2 -9.8 2.5-19.8-3.5-22.3-13.3 -2.5-9.8 3.5-19.8 13.3-22.3 2.5-0.6 5-0.7 7.4-0.3L259.2 73z"/>
                    </g>
                    <path id="torso" class="st2" d="M311.9 246.5c0 49.5-263.9 49.5-263.9 0 0-117 31.4-211.8 131.9-211.8S311.9 129.6 311.9 246.5z"/>
                <g id="eyes">
                    <g id="left_eye" style="transform-origin: 50% 50% 0px;">
                        <path id="left_sclera" class="st3" d="M168.3 141.3c-4.1 16.9-21.2 27.3-38.1 23.1 -16.9-4.1-27.3-21.2-23.1-38.1C119 77.4 137.8 133.2 168.3 141.3z"/>
                        <defs>
                        <path id="XMLID_7_" d="M168.3 141.3c-4.1 16.9-21.2 27.3-38.1 23.1 -16.9-4.1-27.3-21.2-23.1-38.1C119 77.4 137.8 133.2 168.3 141.3z"/>
                        </defs>
                        <clipPath id="XMLID_47_">
                        <use xlink:href="#XMLID_7_"/>
                        </clipPath>
                        <g class="st4" style="transform-origin: 50% 50% 0px;" id="left_pupil">
                        <circle id="XMLID_4_" cx="149" cy="140.1" r="11.7"/>
                        <circle id="XMLID_9_" class="st3" cx="147" cy="135.1" r="2.6"/>
                        </g>
                    </g>
                    <g id="right_eye" style="transform-origin: 50% 50% 0px;">
                        <path id="right_sclera" class="st3" d="M191.7 141.3c4.1 16.9 21.2 27.3 38.1 23.1 16.9-4.1 27.3-21.2 23.1-38.1C241 77.4 222.2 133.2 191.7 141.3z"/>
                        <defs>
                        <path id="XMLID_15_" d="M191.7 141.3c4.1 16.9 21.2 27.3 38.1 23.1 16.9-4.1 27.3-21.2 23.1-38.1C241 77.4 222.2 133.2 191.7 141.3z"/>
                        </defs>
                        <clipPath id="XMLID_48_">
                        <use xlink:href="#XMLID_15_"/>
                        </clipPath>
                        <g class="st5" id="right_pupil">
                        <circle cx="211" cy="140.1" r="11.7"/>
                        <circle class="st3" cx="213" cy="135.1" r="2.6"/>
                        </g>
                    </g>
                </g>
                <g id="mouth" style="transform-origin: 50% 50% 0px;">
                    <path id="XMLID_22_" d="M277.6 205.8c-4.3 18.6-43.7 47.6-97.6 47.6s-93.4-29-97.6-47.6c-10.7-46.6 43.7-8.4 97.6-8.4S288.4 159.2 277.6 205.8z"/>
                    <g id="XMLID_29_" >
                    <defs>
                        <path id="XMLID_28_" d="M277.6 205.8c-4.3 18.6-43.7 47.6-97.6 47.6s-93.4-29-97.6-47.6c-10.7-46.6 43.7-8.4 97.6-8.4S288.4 159.2 277.6 205.8z"/>
                    </defs>
                    <clipPath id="XMLID_49_">
                        <use xlink:href="#XMLID_28_"/>
                    </clipPath>
                    <g id="XMLID_31_" class="st6">
                        <polygon class="st3" points="139.2 181.1 122.7 218.6 106.2 181.1"/>
                        <polygon class="st3" points="253.8 181.1 237.3 218.6 220.8 181.1"/>
                    </g>
                    <ellipse id="XMLID_35_" class="st7" cx="180.5" cy="253" rx="73.4" ry="19.4"/>
                    <g id="XMLID_32_" class="st6">
                        <polygon class="st3" points="159.2 265.5 142.7 228 126.2 265.5"/>
                        <polygon class="st3" points="233.8 265.5 217.3 228 200.8 265.5"/>
                    </g>
                    </g>
                </g>
                </g>
            </g>
            </svg>
            <!-- papers svg-->
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                viewBox="0 0 360 360" style="enable-background:new 0 0 360 360;position:absolute;top:0px;left:50%; margin-left: -100px; width:150px;height:160px; width: 150px; left:50%;" xml:space="preserve" style="">
            <polygon id="XMLID_42_" class="w" points="337.3,308 328.9,325.1 326.3,340.5 315.4,351.7 344,346.6 354.1,329.8 "/>
            <polygon id="XMLID_48_" class="w" points="278.3,341.6 284.2,349.6 298.5,353.8 278.3,358 264,349.8 "/>
            <polygon id="XMLID_49_" class="w" points="300.6,324.7 312.3,326.9 326.8,324.5 290.7,345.2 270.2,327.8 289.1,332 292.3,324 "/>
            <polygon id="XMLID_47_" class="w"points="23.2,329.7 13.8,322.3 6,309.9 14.4,350.7 41,354.6 25.4,343.1 29.2,335.5 "/>
            <polygon id="XMLID_50_" class="w" points="20.5,315.5 30.2,317.4 50.5,317.3 26.8,324 "/>
            <polygon id="XMLID_1_" class="w" points="228.5,344.5 238.1,346.4 258.4,346.3 234.7,353 "/>
            <polygon id="XMLID_54_" class="w" points="68.7,327.9 77.9,321.8 77.9,315.5 100.6,319.7 110.7,327.9 89.7,321.7 78.7,327.9 "/>
            <polygon id="XMLID_59_" class="w" points="58.4,324 47.3,332.3 58.4,340.4 83.6,334.3 65.4,334.2 "/>
            <polygon id="XMLID_60_" class="w" points="49.9,292.7 45.7,300.9 68.4,319 "/>
            <polygon id="XMLID_53_" class="w" points="167.5,347.8 179.2,341.6 187.3,347.8 197.7,335.4 209.7,335.4 201.9,347.8 209.7,352.3 180.1,352.3
                "/>
            <polygon id="XMLID_61_" class="w" points="228.5,335.5 272.8,339.5 263.8,333.3 250.6,331.3 "/>
            <polygon id="XMLID_63_"  class="w" points="223.2,337.4 214,345.8 223.2,341.6 "/>
            <polygon id="XMLID_62_"  class="w" points="173.8,335.5 159.9,329.4 150.3,340 162.1,335.5 "/>
            <polygon id="XMLID_3_" class="w" points="320.8,339.5 305.8,342 303.5,356.1 310.9,345.9 "/>
            <polygon id="XMLID_65_" class="w" points="64.2,348.2 75.2,344.9 85.1,349 45.7,354.7 55.2,348.2 "/>
            <polygon id="XMLID_66_" class="w" points="128.4,353.6 162.1,347.2 145.2,343.8 "/>
            <polygon id="XMLID_67_" class="w" points="94.8,334.6 91.9,344.2 89.7,351.6 99.3,355.2 "/>
            <polygon id="XMLID_68_" class="w" points="114.4,327.9 130.9,320.8 129.8,337.3 138.7,342.8 117.7,348.7 104.6,347.8 118.4,338.4 "/>
            </svg>
        </div>
        <script  type="text/javascript" src="web-animations-next.min.js"></script>
        <script>
        (function() {

            var messageWrapper= window.document.getElementById('message-wrapper');
            var monster =  window.document.getElementById('monster');
            var monsterBody = window.document.getElementById('monster_body');
            var mouth = window.document.getElementById('mouth');

            var leftEye = window.document.getElementById('left_eye');
            var rightEye = window.document.getElementById('right_eye');

            var leftPupil = window.document.getElementById('left_pupil');
            var rightPupil = window.document.getElementById('right_pupil');

            var leftHorn = window.document.getElementById('left_horn');
            var rightHorn = window.document.getElementById('right_horn');

            var leftLeg = window.document.getElementById('left_leg');
            var rightLeg = window.document.getElementById('right_leg');

            var getDefaultCssSetting = function(bodyPart) {

                var defaultBodyPartsPosition = {
                    'monsterBody': {transform: 'translate(0px, 0px) rotate(0deg)' },
                    'mouth': { transform: 'scaleY(1)' },
                    'leftEye': { transform: 'rotate(0deg) translate(0,0) rotateX(0deg)' },
                    'rightEye': { transform: 'rotate(0deg) translate(0,0) rotateX(0deg)' },
                    'leftPupil': { transform: 'translate(0px, 0px)' },
                    'rightPupil': { transform: 'translate(0px, 0px)' },
                    'leftHorn': { transform: 'rotate(0) translate(0,0) rotateX(0deg)' },
                    'rightHorn':  {transform: 'rotate(0) translate(0,0) rotateX(0deg)' }
                };

                return defaultBodyPartsPosition[bodyPart];
            };

            // we cannot get the style values that are added by web animation api
            // because of that each time we change any style by animate() we store
            // it in this object
            var currentBodyPartsPosition = {
                'monsterBody': {transform: 'translateY(0px) translate(0px, 0px) rotate(0deg)' },
                'mouth': { transform: 'scaleY(1)' },
                'leftEye': { transform: 'rotate(0deg) translate(0,0) rotateX(0deg)' },
                'rightEye': { transform: 'rotate(0deg) translate(0,0) rotateX(0deg)' },
                'leftPupil': { transform: 'translate(0px, 0px)' },
                'rightPupil': { transform: 'translate(0px, 0px)' },
                'leftHorn': { transform: 'rotate(0) translate(0,0) rotateX(0deg)' },
                'rightHorn': { transform: 'rotate(0) translate(0,0) rotateX(0deg)' }
            };

            // get current position of a body part from currentPsition object
            // and return css object string for animate
            var getCurrentCssSetting = function(bodyPart) {
                return currentBodyPartsPosition[bodyPart];
            };

            var setCurrentCssSetting = function(bodyPart, newObj) {
                currentBodyPartsPosition[bodyPart] = newObj;
            };

            var normal = function() {

                monsterBody.animate([
                    getCurrentCssSetting('monsterBody'),
                    getDefaultCssSetting('monsterBody')
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing:  'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
                        fill: 'both'
                });

                mouth.animate([
                    getCurrentCssSetting('mouth'),
                    getDefaultCssSetting('mouth')
                        ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                    });

                leftEye.animate([
                    getCurrentCssSetting('leftEye'),
                    getDefaultCssSetting('leftEye')
                        ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'linear',
                        fill: 'both'
                    });

                rightEye.animate([
                    getCurrentCssSetting('rightEye'),
                    getDefaultCssSetting('rightEye')
                        ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'linear',
                        fill: 'both'
                    });

                leftPupil.animate([
                    getCurrentCssSetting('leftPupil'),
                    getDefaultCssSetting('leftPupil')
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                rightPupil.animate([
                    getCurrentCssSetting('rightPupil'),
                    getDefaultCssSetting('rightPupil')
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                leftHorn.animate([
                    getCurrentCssSetting('leftHorn'),
                    getDefaultCssSetting('leftHorn')
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                rightHorn.animate([
                    getCurrentCssSetting('rightHorn'),
                    getDefaultCssSetting('rightHorn')
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });
            };

            var messages = [];
            var MaxMessageOnPage = 3;

            var newMessage = function(message, duration) {
                var MESSAGE_APPEAR_TIME = 500;
                var DEFAULT_DURATION = 3000;

                if(duration === undefined) {
                    duration = DEFAULT_DURATION;
                }

                var elem = document.createElement('div');
                elem.innerHTML = message;
                messageWrapper.appendChild(elem);

                messageElems = messageWrapper.children;

                var n = messageElems.length;
                for(var i = 0, max = n; i < max; i++) {

                    if(i === n - 1) {
                        // new message
                        var fullyAppearedOffset = MESSAGE_APPEAR_TIME/(duration + MESSAGE_APPEAR_TIME);
                        var m = messageElems[i].animate([
                            { top: -(n-i)*100 + 'px' , opacity: 0, transform: 'rotateX(-90deg)', offset: 0},
                            { top: -(n-i+1)*100 + 'px' , opacity: 1, transform: 'rotateX(0)', offset: fullyAppearedOffset},
                            { top: -(n-i+1)*100 + 'px' , opacity: 1, transform: 'rotateX(0)', offset: 1}

                                ], {
                                duration: MESSAGE_APPEAR_TIME + duration,
                                direction: 'normal',
                                easing: 'ease-in-out',
                                fill: 'both'
                        });
                    } else if (i === 0 && messageElems.length > MaxMessageOnPage) {
                        // remove the message
                        var m = messageElems[i].animate([
                            { top: -(n-i)*100 + 'px' , opacity: 1, transform: 'rotateX(0deg)'},
                            { top: -(n-i+1)*100 + 'px' , opacity: 0, transform: 'rotateX(-90deg)'}

                                ], {
                                duration: MESSAGE_APPEAR_TIME,
                                direction: 'normal',
                                easing: 'ease-in-out',
                                fill: 'both'
                        }).onfinish = function() {
                            messageWrapper.removeChild(messageWrapper.children[0]);
                        };

                    } else {
                        // move old messages
                        var m = messageElems[i].animate([
                            { top: -(n-i)*100 + 'px' },
                            { top: -(n-i+1)*100 + 'px' }
                                ], {
                                duration: MESSAGE_APPEAR_TIME,
                                direction: 'normal',
                                easing: 'ease-in-out',
                                fill: 'both'
                        });
                    }
                }
                return m;
            };

            var laugh = function() {
                normal();
                var mb = monsterBody.animate([
                    getCurrentCssSetting('monsterBody'),
                    { transform: 'translateY(10px)' },
                    getCurrentCssSetting('monsterBody')
                        ], {
                        duration: 300,
                        direction: 'normal',
                        easing:  'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
                        fill: 'both',
                        iterations: 5
                    });
                return mb;
            };

            var sadFace = function() {
                normal();
                rightEye.animate([
                    getCurrentCssSetting('rightEye'),
                    { transform: 'rotate(45deg) translate(0px,0px) rotateX(0deg)' }
                        ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'linear',
                        fill: 'both'
                    });

                leftEye.animate([
                    getCurrentCssSetting('leftEye'),
                    { transform: 'rotate(-45deg) translate(0px,0px) rotateX(0deg)' }
                        ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'linear',
                        fill: 'both'
                    });

                var mouth2 = mouth.animate([
                    getCurrentCssSetting('mouth'),
                    getDefaultCssSetting('mouth'),
                    { transform: 'scaleY(0.5)' }
                        ], {
                        duration: 1000,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                    });

                setCurrentCssSetting('rightEye', { transform: 'rotate(45deg) translate(0px,0px)  rotateX(0deg)' });
                setCurrentCssSetting('leftEye', { transform: 'rotate(-45deg) translate(0px,0px)  rotateX(0deg)' });
                setCurrentCssSetting('mouth', { transform: 'scaleY(0.5)'});

                return mouth2;
            };

            var lookDown = function() {
                normal();

                leftEye.animate([
                    getCurrentCssSetting('leftEye'),
                    { transform: 'rotate(-25deg) translate(-10px,20px) rotateX(-40deg)' }
                    ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                rightEye.animate([
                    getCurrentCssSetting('rightEye'),
                    { transform: 'rotate(25deg) translate(10px,20px) rotateX(-40deg)' }
                    ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                leftHorn.animate([
                    getCurrentCssSetting('leftHorn'),
                    { transform: 'rotate(-20deg) translate(-10px,20px) rotateX(-30deg)' }
                    ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                rightHorn.animate([
                    getCurrentCssSetting('rightHorn'),
                    { transform: 'rotate(20deg) translate(10px,20px) rotateX(-30deg)' }
                    ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                leftPupil.animate([
                    getCurrentCssSetting('leftPupil'),
                    { transform: 'translate(0px, 15px)' }
                    ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });
                rightPupil.animate([
                    getCurrentCssSetting('rightPupil'),
                    { transform: 'translate(0px, 15px)' }
                    ], {
                        duration: 500,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });

                var mouth2 = mouth.animate([
                getCurrentCssSetting('mouth'),
                { transform: 'scaleY(0.5)' }
                    ], {
                    duration: 1000,
                    direction: 'normal',
                    easing: 'ease-in-out',
                    fill: 'both'
                });

                setCurrentCssSetting('leftEye', { transform: 'rotate(-25deg) translate(-10px,20px)  rotateX(-40deg)' });
                setCurrentCssSetting('rightEye', { transform: 'rotate(25deg) translate(10px,20px) rotateX(-40deg)' });
                setCurrentCssSetting('leftHorn', { transform: 'rotate(-20deg) translate(-10px,20px) rotateX(-30deg)' });
                setCurrentCssSetting('rightHorn', { transform: 'rotate(20deg) translate(10px,20px) rotateX(-30deg)' });
                setCurrentCssSetting('leftPupil', { transform: 'translate(0px, 15px)' });
                setCurrentCssSetting('rightPupil', { transform: 'translate(0px, 15px)' });
                setCurrentCssSetting('mouth', { transform: 'scaleY(0.5)' });

                return mouth2;
            };

            var leftLegDance = function(translateX, translateY, rotate) {
                monsterBody.animate([
                    getCurrentCssSetting('monsterBody'),
                    { transform: 'translate(0px, ' + translateY + 'px) rotate(' + rotate + 'deg)' }
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing:  'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
                        fill: 'both'
                });

                return leftLeg.animate([
                        { transform: 'translate(0px, 0px) rotate(0deg)' },
                        { transform: 'translate(' + translateX + 'px, ' + translateY + 'px) rotate(' + rotate + 'deg)' }
                        ], {
                            duration: 200,
                            direction: 'normal',
                            easing: 'ease-in-out',
                            fill: 'both'
                    });
            };

            var leftLegNormal = function(translateX, translateY, rotate) {

                monsterBody.animate([
                    { transform: 'translate(0px, ' + translateY + 'px) rotate(' + rotate + 'deg)' },
                    { transform: 'translate(0px, 0px) rotate(0deg)' }
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing:  'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
                        fill: 'both'
                });

                return leftLeg.animate([
                    { transform: 'translate(' + translateX + 'px, ' + translateY + 'px) rotate(' + rotate + 'deg)' },
                    { transform: 'translate(0px, 0px) rotate(0deg)' }
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });
            };

            var rightLegNormal = function(translateX, translateY, rotate) {

                monsterBody.animate([
                    { transform: 'translate(0px, ' + translateY + 'px) rotate(' + rotate + 'deg)' },
                    { transform: 'translate(0px, 0px) rotate(0deg)' }
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing:  'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
                        fill: 'both'
                });

                return rightLeg.animate([
                    { transform: 'translate(' + translateX + 'px, ' + translateY + 'px) rotate(' + rotate + 'deg)' },
                    { transform: 'translate(0px, 0px) rotate(0deg)' }

                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both'
                });
            };

            var rightLegDance = function(translateX, translateY, rotate) {

                monsterBody.animate([
                    { transform: 'translate(0px, 0px) rotate(0deg)' },
                    { transform: 'translate(0px, ' + translateY + 'px) rotate(' + rotate + 'deg)' }
                    ], {
                        duration: 200,
                        direction: 'normal',
                        easing:  'cubic-bezier(0.550, 0.085, 0.680, 0.530)',
                        fill: 'both'
                });

                return rightLeg.animate([
                        { transform: 'translate(0px, 0px) rotate(0deg)' },
                        { transform: 'translate(' + translateX + 'px, ' + translateY + 'px) rotate(' + rotate + 'deg)' }
                        ], {
                            duration: 200,
                            direction: 'normal',
                            easing: 'ease-in-out',
                            fill: 'both'
                    });
            };

            var monsterBodyDance = function(translateY){
                return monster.animate([
                    { transform: 'translate(0px, 0px)' },
                    { transform: 'translate(0px, ' + translateY + 'px)' }
                    ],{
                        duration: 200,
                        direction: 'normal',
                        easing: 'ease-in-out',
                        fill: 'both',
                        iterations: 4
                });
            };

            var happyDance = function() {
                normal();
                return promise = new Promise(function(resolve, reject) {
                    leftLegDance(0, -15, 7).onfinish = function() {

                        resolve();
                    };
                })
                .then(function(){
                    return monsterBodyDance(10).finished;
                })
                .then(function(){
                    leftLegNormal(0, -15, 7);
                    return rightLegDance(0, -15, -7).finished;
                })
                .then(function(){
                    return monsterBodyDance(10).finished;
                })
                .then(function(){
                    return rightLegNormal(0, -15, -7).finished;
                })
                .then(function(){
                    return leftLegDance(0, -15, 7).finished
                })
                .then(function(){
                    return monsterBodyDance(10).finished;
                })
                .then(function(){
                    leftLegNormal(0, -15, 7);
                    return rightLegDance(0, -15, -7).finished;
                })
                .then(function(){
                    return monsterBodyDance(10).finished;
                })
                .then(function(){
                    return rightLegNormal(0, -15, -7).finished;
                });
            };

            Promise.all([laugh().finished, newMessage('HA HA HA ... You are late').finished])
            .then(function(){
                return newMessage('I ate the page. It was delicious.').finished;
            })
            .then(function(){
                return newMessage('You cannot read it any more...').finished;
            })/*
            .then(function(){
                return lookDown().finished;
            })
            .then(function(){
                return newMessage('<b>PLEAAAASEEE</b>').finished;
            })
            .then(function(){
                return sadFace().finished;
            })
            .then(function(){
                return newMessage('Sorry that I ate the page before you read it').finished;
            })
            .then(function(){
                return newMessage('I was very hungry').finished;
            })
            .then(function(){

                newMessage('<input type="radio" id="confirm" name="confirm1" value="1" class="input1">yes <input type="radio" name="confirm1" value="0" class="input1">no');

                var promise = new Promise(function(resolve, reject) {
                    messageWrapper.addEventListener('click', function(e) {
                        if(e.target && e.target.className == 'input1') {
                            if(e.target.value === '1') {
                                resolve();
                            } else {
                                reject();
                            }
                        }
                    }, false);
                });
                return promise;
            })*/
            .then(function(){
                return happyDance().finished;
            })
            .then(function(){
                return newMessage('<b>woooohoooo</b>').finished;
            });
        })();
        </script>
    </body>
</html>
